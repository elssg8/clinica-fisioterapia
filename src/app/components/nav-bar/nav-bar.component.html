<nav class="bg-[var(--primary-color)]">
    <div class="mx-0 px-0">
      <div class="flex justify-between items-center">
        <a (click)="scrollToSection('hero-section')" class="w-[100px] px-1 text-xl font-bold py-4">LOGO</a>

        <!-- Menu (dropdown incluido) -->
        <ul class="flex flex-wrap lg:flex-row gap-6">

          <!-- Dropdown con hover -->
          <li class="text-center group relative">
            <a class="block py-2 lg:py-4 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto text-sm sm:text-base md:text-lg lg:text-xl cursor-pointer px-4">Nosotros</a>
            <!-- Lista del Dropdown, visible al hacer hover -->
            <ul class="absolute hidden bg-[var(--primary-color)] shadow-lg group-hover:block z-50">
              <li *ngFor="let item of nosotrosItems">
                <a href="#"
                   class="block py-1 lg:py-1 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto text-sm sm:text-base md:text-lg lg:text-xl px-4"
                   (mouseenter)="showModal(item)"
                   (mouseleave)="hideModal()">
                  {{ item.title }}
                </a>
              </li>
            </ul>
          </li>

          <!-- Otros ítems del menú -->
          <li class="text-center"><a (click)="scrollToSection('servicios')" class="block py-2 lg:py-4 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto text-sm sm:text-base md:text-lg lg:text-xl px-4 cursor-pointer">Servicios</a></li>
          <li class="text-center"><a (click)="scrollToSection('agendar-cita')" class="block py-2 lg:py-4 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto text-sm sm:text-base md:text-lg lg:text-xl px-4 cursor-pointer">Agendar cita</a></li>
          <li class="text-center"><a (click)="scrollToSection('ubicacion')" class="block py-2 lg:py-4 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto text-sm sm:text-base md:text-lg lg:text-xl px-4 cursor-pointer">Ubicación</a></li>
          <li class="text-center" *ngIf="isLoggedIn">
            <a (click)="scrollToTop()" class="block py-2 lg:py-4 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto text-sm sm:text-base md:text-lg lg:text-xl cursor-pointer">
              <i class="fa-solid fa-gear px-2"></i>
              Admin
            </a>
          </li>
          <li class="text-center relative">
            <a (click)="toggleLoginModal()" class="block py-2 lg:py-4 text-white font-semibold uppercase tracking-wider hover:text-gray-500 w-auto hover:bg-gray-100 cursor-pointer text-sm sm:text-base md:text-lg lg:text-xl px-4">
              <i class="fa-solid fa-user px-2"></i>
              {{ isLoggedIn ? 'Cerrar sesión' : 'Iniciar sesión' }}
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Modal -->
<div *ngIf="activeModal"
     class="fixed w-full h-full flex items-center justify-center z-10 object-cover bg-white bg-opacity-10 backdrop-filter backdrop-blur-sm transition-opacity duration-300 ease-in-out"
     (mouseenter)="showModal(activeModal)"
     (mouseleave)="hideModal()">
  <div class="bg-[var(--primary-color)] p-10 shadow-xl w-[800px] h-[400px]">
    <h2 class="text-4xl font-bold mb-6 font-merienda">{{ activeModal.title }}</h2>
    <p class="text-2xl font-light tracking-wide text-justify">{{ activeModal.content }}</p>
  </div>
</div>

<!-- Login Modal -->
<div *ngIf="showLoginModal && !isLoggedIn" class="absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50">
  <div class="p-6">
    <h3 class="text-xl font-semibold mb-4 text-gray-800">Iniciar Sesión</h3>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <div class="mb-4">
        <input type="email" formControlName="email" placeholder="Correo electrónico"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
      </div>
      <div class="mb-4">
        <input type="password" formControlName="password" placeholder="Contraseña"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
      </div>
      <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition-colors">
        Iniciar Sesión
      </button>
    </form>
  </div>
</div>

<!-- Logout confirmation -->
<div *ngIf="showLoginModal && isLoggedIn" class="absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50">
  <div class="p-6">
    <h3 class="text-xl font-semibold mb-4 text-gray-800">¿Cerrar sesión?</h3>
    <button (click)="logout()" class="w-full bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition-colors">
      Confirmar cierre de sesión
    </button>
  </div>
</div>
